{"ast":null,"code":"import { db } from '../firebase/firebase';\nimport { collection, addDoc, getDocs, query, orderBy, limit } from 'firebase/firestore';\nconst SCORES = 'scores';\n\n// Save a completed attempt\nexport const saveScore = async ({\n  name,\n  score,\n  total\n}) => {\n  try {\n    await addDoc(collection(db, SCORES), {\n      name,\n      score,\n      total,\n      createdAt: Date.now()\n    });\n  } catch (e) {\n    console.error('Error saving score ⇒ ', e);\n  }\n};\n\n// Grab the top 5 scores\nexport const fetchLeaderboard = async () => {\n  const q = query(collection(db, SCORES), orderBy('score', 'desc'), limit(5));\n  const snap = await getDocs(q);\n  return snap.docs.map(d => d.data());\n};","map":{"version":3,"names":["db","collection","addDoc","getDocs","query","orderBy","limit","SCORES","saveScore","name","score","total","createdAt","Date","now","e","console","error","fetchLeaderboard","q","snap","docs","map","d","data"],"sources":["C:/Users/hpryz/quiz-app/src/services/storageService.js"],"sourcesContent":["import { db } from '../firebase/firebase';\r\nimport { collection, addDoc, getDocs, query, orderBy, limit } from 'firebase/firestore';\r\n\r\nconst SCORES = 'scores';\r\n\r\n// Save a completed attempt\r\nexport const saveScore = async ({ name, score, total }) => {\r\n  try {\r\n    await addDoc(collection(db, SCORES), {\r\n      name,\r\n      score,\r\n      total,\r\n      createdAt: Date.now()\r\n    });\r\n  } catch (e) {\r\n    console.error('Error saving score ⇒ ', e);\r\n  }\r\n};\r\n\r\n// Grab the top 5 scores\r\nexport const fetchLeaderboard = async () => {\r\n  const q = query(collection(db, SCORES), orderBy('score', 'desc'), limit(5));\r\n  const snap = await getDocs(q);\r\n  return snap.docs.map(d => d.data());\r\n};\r\n"],"mappings":"AAAA,SAASA,EAAE,QAAQ,sBAAsB;AACzC,SAASC,UAAU,EAAEC,MAAM,EAAEC,OAAO,EAAEC,KAAK,EAAEC,OAAO,EAAEC,KAAK,QAAQ,oBAAoB;AAEvF,MAAMC,MAAM,GAAG,QAAQ;;AAEvB;AACA,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAO;EAAEC,IAAI;EAAEC,KAAK;EAAEC;AAAM,CAAC,KAAK;EACzD,IAAI;IACF,MAAMT,MAAM,CAACD,UAAU,CAACD,EAAE,EAAEO,MAAM,CAAC,EAAE;MACnCE,IAAI;MACJC,KAAK;MACLC,KAAK;MACLC,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC;IACtB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEF,CAAC,CAAC;EAC3C;AACF,CAAC;;AAED;AACA,OAAO,MAAMG,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EAC1C,MAAMC,CAAC,GAAGf,KAAK,CAACH,UAAU,CAACD,EAAE,EAAEO,MAAM,CAAC,EAAEF,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC;EAC3E,MAAMc,IAAI,GAAG,MAAMjB,OAAO,CAACgB,CAAC,CAAC;EAC7B,OAAOC,IAAI,CAACC,IAAI,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;AACrC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}